<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

    <head>
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

      {% block meta %}{% endblock %}
      
      <!-- Favicons -->
      <link rel="apple-touch-icon" sizes="180x180" href="/static/images/favicon/apple-touch-icon.png">
      <link rel="icon" type="image/png" sizes="32x32" href="/static/images/favicon/favicon-32x32.png">
      <link rel="icon" type="image/png" sizes="16x16" href="/static/images/favicon/favicon-16x16.png">

      <!-- CSS -->
      <link rel="stylesheet" type="text/css" href="https://www.bytefish.de/theme/css/hydeout.css" />
      <link rel="stylesheet" type="text/css" href="https://www.bytefish.de/theme/css/pygments.css" />
      
      <!-- Social -->
      <link rel="me" href="https://mastodon.social/@bytefish">
      
      <!-- RSS -->
    {% if FEED_ATOM %}
      <link href="{{ FEED_DOMAIN }}/{{ FEED_ATOM }}" type="application/atom+xml" rel="alternate" title="{{ SITENAME }} ATOM Feed" />
    {% endif %}
    {% if FEED_RSS %}
      <link href="{{ FEED_DOMAIN }}/{{ FEED_RSS }}" type="application/rss+xml" rel="alternate" title="{{ SITENAME }} RSS Feed" />
    {% endif %}

        <title>{% block title %}{{ SITENAME }}{% endblock title %}</title>
    {% block json_ld %}{% endblock %}
    </head>

  <body class="post">

    {% include 'fragments/sidebar.html' %}

    <main class="container">
       {% block content %}
       {% endblock %}
    </main>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
          const codeBlocks = document.querySelectorAll('.highlight');

          codeBlocks.forEach(function(block) {
            // Create the Copy Button
            const copyBtn = document.createElement('button');
            copyBtn.className = 'copy-btn';
            copyBtn.innerHTML = `
              <svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>
              <span>Copy</span>
            `;

            copyBtn.addEventListener('click', function() {
              const code = block.querySelector('code') || block.querySelector('pre');
              const text = code.innerText;

              navigator.clipboard.writeText(text).then(() => {
                const label = copyBtn.querySelector('span');
                const originalText = label.innerText;
                label.innerText = 'Copied!';
                copyBtn.style.color = '#1a73e8';
                setTimeout(() => {
                  label.innerText = originalText;
                  copyBtn.style.color = '';
                }, 2000);
              });
            });

            block.appendChild(copyBtn);
          });
        });
    </script>

  </body>
</html>